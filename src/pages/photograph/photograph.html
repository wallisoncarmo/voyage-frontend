<!--
  Generated template for the PhotographPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Fotografia</ion-title>
  </ion-navbar>

</ion-header>

<ion-fab top right #fab>
  <button ion-fab color="warning">
    <ion-icon name="image"></ion-icon>
  </button>
  <ion-fab-list side="bottom">
    <button color="danger" *ngIf="picture" ion-fab (click)="cancel()">
      <ion-icon name="trash"></ion-icon>
    </button>
    <button color="primary" ion-fab (click)="getCameraPicture()">
      <ion-icon name="ios-camera"></ion-icon>
    </button>
  </ion-fab-list>
</ion-fab>  

<ion-content padding class="backgroundCarbon">

  <ion-grid>
    <ion-row>
      <ion-col col-12>
        <ion-avatar item-start>
          <img (click)="getCameraPicture()" [src]="getPhotograph()">
        </ion-avatar>
      </ion-col>
    </ion-row>
  </ion-grid>

  <hr/>
  <ion-card>
    <ion-card-header>
      Informações adicionais
    </ion-card-header>
    <ion-card-content>
      <form [formGroup]="formGroup">
        <ion-item class="input-cont" no-lines>
          <ion-icon color="purple" name="image" item-start></ion-icon>
          <ion-label stacked>Título*</ion-label>
          <ion-input type="text" formControlName="title"></ion-input>
        </ion-item>
        <p class="danger" *ngIf="formGroup.controls['title'].dirty && formGroup.controls['title'].errors" margin-left>Valor inválido</p>

        <ion-item class="input-cont" no-lines>
          <ion-icon color="purple" name="color-palette" item-start></ion-icon>
          <ion-label stacked>Categoria*</ion-label>
          <ion-select formControlName="category">
            <ion-option *ngFor="let category of categories" [value]="category">{{category.name}}</ion-option>
          </ion-select>
        </ion-item>

        <ion-item class="input-cont" no-lines>
          <ion-icon color="purple" name="map" item-start></ion-icon>
          <ion-label stacked>Descrição*</ion-label>
          <ion-textarea formControlName="description" rows="3" maxLength="1000"></ion-textarea>
        </ion-item>
        <p class="danger" *ngIf="formGroup.controls['description'].dirty && formGroup.controls['description'].errors" margin-left>Valor inválido</p>
      </form>

    </ion-card-content>
  </ion-card>

  <ion-fab right bottom>
    <button [disabled]="formGroup.invalid" color="purple" ion-fab (click)="sendPicture()">
      <ion-icon name="cloud-upload"></ion-icon>
    </button>
  </ion-fab> 

</ion-content>